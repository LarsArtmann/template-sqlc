plugins:
    - name: typescript
      wasm:
        sha256: 287df8f6cc06377d67ad5ba02c9e0f00c585509881434d15ea8bd9fc751a9368
        url: https://downloads.sqlc.dev/plugin/sqlc-gen-typescript_0.1.3.wasm
    - name: py
      wasm:
        sha256: fbedae96b5ecae2380a70fb5b925fd4bff58a6cfb1f3140375d098fbab7b3a3c
        url: https://downloads.sqlc.dev/plugin/sqlc-gen-python_1.3.0.wasm
rules:
    - message: Use explicit column names instead of SELECT *
      name: no-select-star
      rule: |
        query.sql.contains("SELECT *")
    - message: DELETE statements should include WHERE clauses
      name: no-delete-without-where
      rule: |
        query.sql.contains("DELETE FROM") && !query.sql.contains("WHERE")
    - message: DROP TABLE statements are not allowed
      name: no-drop-table
      rule: |
        query.sql.contains("DROP TABLE")
    - message: Large SELECT queries should include LIMIT
      name: require-limit-on-select
      rule: |
        query.sql.contains("SELECT") && query.sql.contains("FROM") && !query.sql.contains("LIMIT") && !query.sql.contains("COUNT")
sql:
    - database:
        managed: true
        uri: ${DATABASE_URL}
      engine: sqlite
      gen:
        go:
            emit_all_enum_values: true
            emit_db_tags: true
            emit_empty_slices: true
            emit_enum_valid_method: true
            emit_exact_table_names: true
            emit_exported_queries: true
            emit_interface: true
            emit_json_tags: true
            emit_methods_with_db_argument: false
            emit_params_struct_pointers: true
            emit_pointers_for_null_types: false
            emit_prepared_queries: true
            emit_result_struct_pointers: true
            emit_sql_as_comment: true
            inflection_exclude_table_names:
                - migration
                - schema_version
            json_tags_case_style: camel
            omit_sqlc_version: false
            omit_unused_structs: true
            out: internal/db/sqlite
            output_batch_file_name: batch.go
            output_copyfrom_file_name: copyfrom.go
            output_db_file_name: db.go
            output_models_file_name: models.go
            overrides:
                - db_type: TEXT
                  go_type: string
                  nullable: false
                - db_type: DATETIME
                  go_type: time.Time
                  nullable: true
                - db_type: TIMESTAMP
                  go_type: time.Time
                  nullable: true
                - db_type: BOOLEAN
                  go_type: bool
                - db_type: INTEGER
                  go_type: int64
                - db_type: REAL
                  go_type: float64
                - db_type: JSON
                  go_type: json.RawMessage
            package: sqlite
            rename:
                api: API
                created_at: CreatedAt
                deleted_at: DeletedAt
                http: HTTP
                id: ID
                json: JSON
                sql: SQL
                updated_at: UpdatedAt
                url: URL
                uuid: UUID
                xml: XML
            sql_package: database/sql
      name: sqlite
      queries:
        - ../examples/sqlite/queries
      schema:
        - ../examples/sqlite
      strict_function_checks: true
      strict_order_by: true
    - database:
        managed: true
        uri: ${POSTGRES_DATABASE_URL}
      engine: postgresql
      gen:
        go:
            build_tags: postgres,pgx
            emit_all_enum_values: true
            emit_db_tags: true
            emit_empty_slices: true
            emit_enum_valid_method: true
            emit_exact_table_names: true
            emit_exported_queries: true
            emit_interface: true
            emit_json_tags: true
            emit_methods_with_db_argument: false
            emit_params_struct_pointers: true
            emit_pointers_for_null_types: true
            emit_prepared_queries: true
            emit_result_struct_pointers: true
            emit_sql_as_comment: true
            inflection_exclude_table_names:
                - migration
                - schema_migrations
                - ar_internal_metadata
            json_tags_case_style: camel
            omit_sqlc_version: false
            omit_unused_structs: true
            out: internal/db/postgres
            output_batch_file_name: batch.go
            output_copyfrom_file_name: copyfrom.go
            output_db_file_name: db.go
            output_models_file_name: models.go
            overrides:
                - db_type: uuid
                  go_type: github.com/google/uuid.UUID
                - db_type: timestamptz
                  go_type: time.Time
                - db_type: timestamp
                  go_type: time.Time
                - db_type: date
                  go_type: time.Time
                - db_type: time
                  go_type: time.Time
                - db_type: interval
                  go_type: time.Duration
                - db_type: jsonb
                  go_type: json.RawMessage
                - db_type: json
                  go_type: json.RawMessage
                - db_type: inet
                  go_type: net.IP
                - db_type: cidr
                  go_type: '*net.IPNet'
                - db_type: macaddr
                  go_type: net.HardwareAddr
                - db_type: decimal
                  go_type: shopspring/decimal.Decimal
                - db_type: numeric
                  go_type: shopspring/decimal.Decimal
                - db_type: money
                  go_type: int64
            package: postgres
            rename:
                api: API
                created_at: CreatedAt
                deleted_at: DeletedAt
                http: HTTP
                id: ID
                json: JSON
                sql: SQL
                updated_at: UpdatedAt
                url: URL
                uuid: UUID
                xml: XML
            sql_package: pgx/v5
      name: postgres
      queries:
        - ../examples/postgres/queries
      rules:
        - sqlc/db-prepare
      schema:
        - ../examples/postgres
      strict_function_checks: true
      strict_order_by: true
    - database:
        managed: true
        uri: ${MYSQL_DATABASE_URL}
      engine: mysql
      gen:
        go:
            build_tags: mysql
            emit_all_enum_values: true
            emit_db_tags: true
            emit_empty_slices: true
            emit_enum_valid_method: true
            emit_exact_table_names: true
            emit_exported_queries: true
            emit_interface: true
            emit_json_tags: true
            emit_methods_with_db_argument: false
            emit_params_struct_pointers: true
            emit_pointers_for_null_types: true
            emit_prepared_queries: true
            emit_result_struct_pointers: true
            emit_sql_as_comment: true
            inflection_exclude_table_names:
                - migration
                - schema_migrations
                - ar_internal_metadata
            json_tags_case_style: camel
            omit_sqlc_version: false
            omit_unused_structs: true
            out: internal/db/mysql
            output_batch_file_name: batch.go
            output_copyfrom_file_name: copyfrom.go
            output_db_file_name: db.go
            output_models_file_name: models.go
            overrides:
                - db_type: DATETIME
                  go_type: time.Time
                - db_type: TIMESTAMP
                  go_type: time.Time
                - db_type: DATE
                  go_type: time.Time
                - db_type: TIME
                  go_type: time.Time
                - db_type: YEAR
                  go_type: int
                - db_type: JSON
                  go_type: json.RawMessage
                - db_type: DECIMAL
                  go_type: shopspring/decimal.Decimal
                - db_type: NUMERIC
                  go_type: shopspring/decimal.Decimal
                - db_type: TINYINT
                  go_type: int8
                - db_type: SMALLINT
                  go_type: int16
                - db_type: MEDIUMINT
                  go_type: int32
                - db_type: INT
                  go_type: int32
                - db_type: INTEGER
                  go_type: int32
                - db_type: BIGINT
                  go_type: int64
                - db_type: FLOAT
                  go_type: float32
                - db_type: DOUBLE
                  go_type: float64
                - db_type: BOOLEAN
                  go_type: bool
                - db_type: BOOL
                  go_type: bool
            package: mysql
            rename:
                api: API
                created_at: CreatedAt
                deleted_at: DeletedAt
                http: HTTP
                id: ID
                json: JSON
                sql: SQL
                updated_at: UpdatedAt
                url: URL
                uuid: UUID
                xml: XML
            sql_package: database/sql
      name: mysql
      queries:
        - ../examples/mysql/queries
      schema:
        - ../examples/mysql
      strict_function_checks: true
      strict_order_by: true
version: "2"
